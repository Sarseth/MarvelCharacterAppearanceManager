(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1dadcaed"],{"2ca0":function(t,r,e){"use strict";var a=e("23e7"),n=e("06cf").f,c=e("50c4"),o=e("5a34"),s=e("1d80"),i=e("ab13"),l=e("c430"),u="".startsWith,h=Math.min,f=i("startsWith"),p=!l&&!f&&!!function(){var t=n(String.prototype,"startsWith");return t&&!t.writable}();a({target:"String",proto:!0,forced:!p&&!f},{startsWith:function(t){var r=String(s(this));o(t);var e=c(h(arguments.length>1?arguments[1]:void 0,r.length)),a=String(t);return u?u.call(r,a,e):r.slice(e,e+a.length)===a}})},"44e7":function(t,r,e){var a=e("861d"),n=e("c6b6"),c=e("b622"),o=c("match");t.exports=function(t){var r;return a(t)&&(void 0!==(r=t[o])?!!r:"RegExp"==n(t))}},"498a":function(t,r,e){"use strict";var a=e("23e7"),n=e("58a8").trim,c=e("c8d2");a({target:"String",proto:!0,forced:c("trim")},{trim:function(){return n(this)}})},5899:function(t,r){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,r,e){var a=e("1d80"),n=e("5899"),c="["+n+"]",o=RegExp("^"+c+c+"*"),s=RegExp(c+c+"*$"),i=function(t){return function(r){var e=String(a(r));return 1&t&&(e=e.replace(o,"")),2&t&&(e=e.replace(s,"")),e}};t.exports={start:i(1),end:i(2),trim:i(3)}},"5a34":function(t,r,e){var a=e("44e7");t.exports=function(t){if(a(t))throw TypeError("The method doesn't accept regular expressions");return t}},"87b4":function(t,r,e){"use strict";e.r(r);var a=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",[e("fieldset",[t.errors.length?e("div",{staticStyle:{color:"red"}},[e("b",[t._v("Please correct the following error(s):")]),e("br"),e("ul",{staticStyle:{"padding-left":"1rem"}},t._l(t.errors,(function(r){return e("li",{key:r},[t._v(t._s(r))])})),0)]):t._e(),e("form",{on:{submit:function(r){return r.preventDefault(),t.checkForm(r)}}},[e("div",{staticClass:"form-group row"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v(" Upload character ")]),e("div",{staticClass:"col-5"},[e("label",{attrs:{for:"url"}},[t._v("Url or ID of new character: ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newCharacterData.url,expression:"newCharacterData.url"}],staticClass:"form-control",attrs:{type:"text",id:"url",name:"url"},domProps:{value:t.newCharacterData.url},on:{click:function(r){return t.selectAll(r)},input:function(r){r.target.composing||t.$set(t.newCharacterData,"url",r.target.value)}}})]),t.characterInfo?e("div",{staticClass:"col-3"},[e("label",{attrs:{for:"displayName"}},[t._v("Display name: ")]),e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.characterInfo.DisplayName,expression:"characterInfo.DisplayName",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",id:"displayName"},domProps:{value:t.characterInfo.DisplayName},on:{input:function(r){r.target.composing||t.$set(t.characterInfo,"DisplayName",r.target.value.trim())},blur:function(r){return t.$forceUpdate()}}})]):t._e()])])]),t.characterInfo?e("div",{staticClass:"row"},[e("table",{staticClass:"table table-dark"},[t._m(0),e("tr",[e("td",[t._v(t._s(t.characterInfo.RealName))]),e("td",[t._v(t._s(t.characterInfo.Aliases.join(", ")))]),e("td",[t._v(t._s(t.characterInfo.Universe))]),e("td",[t._v(t._s(t.characterInfo.AppearanceCount))]),e("td",[t._v(t._s(t.characterInfo.MinorAppearanceCount))]),e("td",[e("a",{attrs:{href:t.characterInfo.ImageUrl}},[t._v("Image")])])])]),e("button",{staticClass:"btn btn-primary btn-lg",on:{click:t.confirmCharacter}},[t._v(" Confirm ")])]):t._e()])},n=[function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("tr",[e("th",[t._v("Real name")]),e("th",[t._v("Aliases")]),e("th",[t._v("Universe")]),e("th",[t._v("Appearances")]),e("th",[t._v("Minor appearances")]),e("th",[t._v("Image")])])}],c=(e("ac1f"),e("5319"),e("2ca0"),e("498a"),e("bc3a")),o=e.n(c),s="https://marvel.fandom.com/wiki/",i=20,l=/^[a-zA-Z0-9-. ]+$/,u=/^https:\/\/|http:\/\/|www./i,h={data:function(){return{characterInfo:void 0,errors:[],newCharacterData:{url:s},characterIsLoading:!1}},methods:{selectAll:function(t){t.target.select()},checkForm:function(){var t=this;this.characterInfo=void 0,this.errors=[];var r=this.newCharacterData.url.trim();r.trim()&&r!==s?u.test(r)&&!r.startsWith(s)&&this.errors.push("Please provide url to ".concat(s," wiki. Or use character ID.")):this.errors.push("Please provide url or id of character"),this.errors.length||u.test(r)||(r=s+encodeURI(r.replace(/ /g,"_"))),this.errors.length||(this.characterIsLoading=!0,o.a.post("newCharacter",{characterUrl:r},{mcamAuthenticated:!0}).then((function(r){t.characterInfo=r.data})).catch((function(r){t.errors.push(r.response.data),console.error(r)})).then((function(){t.characterIsLoading=!1})))},confirmCharacter:function(){var t=this;this.errors=[];var r=this.characterInfo.DisplayName&&this.characterInfo.DisplayName.trim();r&&(r.length>i&&this.errors.push("Display name max length (".concat(i,") exceeded.")),l.test(r)||this.errors.push("Display name can only contain a-z letters, numbers, spaces, dots and dashes.")),this.errors.length||o.a.post("confirmCharacter",this.characterInfo,{mcamAuthenticated:!0}).then((function(){t.$alert("New character request sent!"),t.characterInfo=null})).catch((function(r){t.errors.push(r.response.data),console.log(r)}))}},beforeRouteLeave:function(t,r,e){this.characterIsLoading?this.$confirm("Character loading in progress. Are you sure want to leave page?",void 0,void 0,{focusCancel:!0,focusConfirm:!1}).then((function(){e()})):e()}},f=h,p=e("2877"),d=Object(p["a"])(f,a,n,!1,null,null,null);r["default"]=d.exports},ab13:function(t,r,e){var a=e("b622"),n=a("match");t.exports=function(t){var r=/./;try{"/./"[t](r)}catch(e){try{return r[n]=!1,"/./"[t](r)}catch(a){}}return!1}},c8d2:function(t,r,e){var a=e("d039"),n=e("5899"),c="​᠎";t.exports=function(t){return a((function(){return!!n[t]()||c[t]()!=c||n[t].name!==t}))}}}]);
//# sourceMappingURL=chunk-1dadcaed.00aa2ca6.js.map