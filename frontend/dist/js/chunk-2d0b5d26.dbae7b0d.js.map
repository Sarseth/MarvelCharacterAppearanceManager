{"version":3,"sources":["webpack:///./src/views/Issue.vue?24de","webpack:///src/views/Issue.vue","webpack:///./src/views/Issue.vue?5734","webpack:///./src/views/Issue.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","issues","totalIssues","attrs","directives","name","rawName","value","expression","on","$event","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","selectedReadStatus","multiple","_l","status","key","staticStyle","_e","issue","idx","domProps","isArray","_i","$$a","$$el","$$c","checked","$$v","$$i","$set","concat","slice","changeStatus","_id","changeFavouriteState","isFavourite","addIssueToIgnored","showIssueDetails","_f","publishDateTimestamp","volume","issueNo","appearance","allVisibleIssuesShouldBeSelected","changeStateOfSelectedIssues","staticRenderFns","data","readStatuses","visibleIssues","issueName","issueVolume","issuesData","undefined","watch","isUserLoadInProgress","newValue","loadIssuePage","computed","isIgnored","methods","issueIds","state","changeStatusOfIssues","issuesIds","$modal","show","changeFavouriteStateOfIssue","changeIgnoreStateOfIssue","markIssueAs","statusName","filters","timestampToDate","month","length","year","join","beforeRouteUpdate","next","mounted","components","IconLoading","component"],"mappings":"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","file":"js/chunk-2d0b5d26.dbae7b0d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"col-sm\"},[_c('h4',{staticClass:\"row\"},[_vm._v(\" \"+_vm._s((\"Visible \" + (_vm.issues.length) + \" issues of \" + _vm.totalIssues + \" total:\"))+\" \")]),_c('form',{staticClass:\"row\"},[_c('div',{staticClass:\"col-sm\"},[(_vm.user)?_c('div',{staticClass:\"row form-group\"},[_c('label',{staticClass:\"col-sm-1 pl-sm-0\",attrs:{\"for\":\"read-dr\"}},[_vm._v(\" Status: \")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedReadStatus),expression:\"selectedReadStatus\"}],staticClass:\"col-sm-2\",attrs:{\"id\":\"read-dr\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selectedReadStatus=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.readStatuses),function(status){return _c('option',{key:status},[_vm._v(\" \"+_vm._s(status)+\" \")])}),0)]):_c('div',[_c('p',{staticStyle:{\"color\":\"orange\"}},[_vm._v(\"Please log in to mark issues as read\")])])])])]),_c('section',{staticClass:\"row\"},[_c('table',{staticClass:\"table table-bordered table-striped table-sm\"},[_c('thead',{staticClass:\"text-sm-center\"},[_c('tr',[(_vm.user)?_c('th',[_vm._v(\"Read:\")]):_vm._e(),_c('th',[_vm._v(\"Issue name:\")]),_c('th',[_vm._v(\"Publication date:\")]),_c('th',[_vm._v(\"Volume:\")]),_c('th',[_vm._v(\"Issue no:\")]),_c('th',[_vm._v(\"Stories:\")])])]),_c('tbody',_vm._l((_vm.issues),function(issue,idx){return _c('tr',{key:idx},[[(_vm.user)?_c('td',[(issue.status === 'wait')?_c('IconLoading'):_c('div',{staticClass:\"btn-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(issue.selected),expression:\"issue.selected\"}],staticClass:\"form-check-inline mt-sm-2 ml-sm-1\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(issue.selected)?_vm._i(issue.selected,null)>-1:(issue.selected)},on:{\"change\":function($event){var $$a=issue.selected,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(issue, \"selected\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(issue, \"selected\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(issue, \"selected\", $$c)}}}}),(\n                    issue.status === 'read' || issue.status === 'character'\n                  )?_c('button',{staticClass:\"btn btn-danger\",on:{\"click\":function($event){return _vm.changeStatus([issue._id], 'clear')}}},[_vm._v(\" Unread \")]):[_c('button',{staticClass:\"btn btn-primary\",on:{\"click\":function($event){return _vm.changeStatus([issue._id], 'read')}}},[_vm._v(\" Read \")]),_c('div',{staticClass:\"btn-group\"},[_c('button',{staticClass:\"btn btn-primary dropdown-toggle\",attrs:{\"data-toggle\":\"dropdown\"}}),_c('div',{staticClass:\"dropdown-menu\"},[_c('button',{staticClass:\"dropdown-item\",on:{\"click\":function($event){return _vm.changeFavouriteState(\n                            idx,\n                            issue._id,\n                            !issue.isFavourite\n                          )}}},[_vm._v(\" \"+_vm._s(issue.isFavourite ? \"Unfavourite\" : \"Favourite\")+\" \")]),_c('button',{staticClass:\"dropdown-item\",on:{\"click\":function($event){return _vm.addIssueToIgnored(idx, issue._id)}}},[_vm._v(\" Ignore \")])])])]],2)],1):_vm._e(),_c('td',[(!!issue.isFavourite)?_c('img',{staticStyle:{\"width\":\"15px\"},attrs:{\"src\":\"/img/FavIcon.png\"}}):_vm._e(),_c('a',{staticClass:\"text-info\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.showIssueDetails(issue._id)}}},[_vm._v(\" \"+_vm._s(issue.name)+\" \")])]),_c('td',[_vm._v(_vm._s(_vm._f(\"timestampToDate\")(issue.publishDateTimestamp)))]),_c('td',[_vm._v(_vm._s(issue.volume))]),_c('td',[_vm._v(_vm._s(issue.issueNo))]),_c('td',[_c('table',{staticClass:\"table\"},[_c('tbody',_vm._l((issue.subtitles),function(appearance,idx){return _c('tr',{key:idx,staticStyle:{\"background-color\":\"inherit\"}},[_c('td',[_vm._v(_vm._s(appearance))])])}),0)])])]],2)}),0)])]),_c('div',{staticClass:\"footer\"},[_c('div',{staticClass:\"btn-group-sm card-footer\"},[(_vm.allVisibleIssuesShouldBeSelected)?_c('button',{staticClass:\"btn btn-dark btn-sm\",on:{\"click\":function($event){_vm.allVisibleIssuesShouldBeSelected = false}}},[_vm._v(\" Unselect all visible issues \")]):_c('button',{staticClass:\"btn btn-dark btn-sm\",on:{\"click\":function($event){_vm.allVisibleIssuesShouldBeSelected = true}}},[_vm._v(\" Select all visible issues \")]),_c('button',{staticClass:\"btn btn-dark btn-sm\",on:{\"click\":function($event){return _vm.changeStateOfSelectedIssues('read')}}},[_vm._v(\" Read selected issues \")]),_c('button',{staticClass:\"btn btn-dark btn-sm\",on:{\"click\":function($event){return _vm.changeStateOfSelectedIssues('clear')}}},[_vm._v(\" Unread selected issues \")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container\">\r\n    <div class=\"col-sm\">\r\n      <h4 class=\"row\">\r\n        {{ `Visible ${issues.length} issues of ${totalIssues} total:` }}\r\n      </h4>\r\n      <form class=\"row\">\r\n        <div class=\"col-sm\">\r\n          <div class=\"row form-group\" v-if=\"user\">\r\n            <label for=\"read-dr\" class=\"col-sm-1 pl-sm-0\">\r\n              Status:\r\n            </label>\r\n            <select id=\"read-dr\" class=\"col-sm-2\" v-model=\"selectedReadStatus\">\r\n              <option v-for=\"status in readStatuses\" :key=\"status\">\r\n                {{ status }}\r\n              </option>\r\n            </select>\r\n          </div>\r\n          <div v-else>\r\n            <p style=\"color: orange\">Please log in to mark issues as read</p>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n    <section class=\"row\">\r\n      <table class=\"table table-bordered table-striped table-sm\">\r\n        <thead class=\"text-sm-center\">\r\n          <tr>\r\n            <th v-if=\"user\">Read:</th>\r\n            <th>Issue name:</th>\r\n            <th>Publication date:</th>\r\n            <th>Volume:</th>\r\n            <th>Issue no:</th>\r\n            <th>Stories:</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"(issue, idx) in issues\" :key=\"idx\">\r\n            <template>\r\n              <td v-if=\"user\">\r\n                <IconLoading v-if=\"issue.status === 'wait'\" />\r\n                <div v-else class=\"btn-group\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    class=\"form-check-inline mt-sm-2 ml-sm-1\"\r\n                    v-model=\"issue.selected\"\r\n                  />\r\n                  <button\r\n                    v-if=\"\r\n                      issue.status === 'read' || issue.status === 'character'\r\n                    \"\r\n                    @click=\"changeStatus([issue._id], 'clear')\"\r\n                    class=\"btn btn-danger\"\r\n                  >\r\n                    Unread\r\n                  </button>\r\n                  <template v-else>\r\n                    <button\r\n                      @click=\"changeStatus([issue._id], 'read')\"\r\n                      class=\"btn btn-primary\"\r\n                    >\r\n                      Read\r\n                    </button>\r\n                    <div class=\"btn-group\">\r\n                      <button\r\n                        class=\"btn btn-primary dropdown-toggle\"\r\n                        data-toggle=\"dropdown\"\r\n                      />\r\n                      <div class=\"dropdown-menu\">\r\n                        <button\r\n                          class=\"dropdown-item\"\r\n                          @click=\"\r\n                            changeFavouriteState(\r\n                              idx,\r\n                              issue._id,\r\n                              !issue.isFavourite\r\n                            )\r\n                          \"\r\n                        >\r\n                          {{ issue.isFavourite ? \"Unfavourite\" : \"Favourite\" }}\r\n                        </button>\r\n                        <button\r\n                          class=\"dropdown-item\"\r\n                          @click=\"addIssueToIgnored(idx, issue._id)\"\r\n                        >\r\n                          Ignore\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </template>\r\n                </div>\r\n              </td>\r\n              <td>\r\n                <img\r\n                  v-if=\"!!issue.isFavourite\"\r\n                  src=\"/img/FavIcon.png\"\r\n                  style=\"width: 15px\"\r\n                />\r\n                <a\r\n                  type=\"button\"\r\n                  class=\"text-info\"\r\n                  @click=\"showIssueDetails(issue._id)\"\r\n                >\r\n                  {{ issue.name }}\r\n                </a>\r\n              </td>\r\n              <td>{{ issue.publishDateTimestamp | timestampToDate }}</td>\r\n              <td>{{ issue.volume }}</td>\r\n              <td>{{ issue.issueNo }}</td>\r\n              <td>\r\n                <table class=\"table\">\r\n                  <tbody>\r\n                    <tr\r\n                      style=\"background-color: inherit\"\r\n                      v-for=\"(appearance, idx) in issue.subtitles\"\r\n                      :key=\"idx\"\r\n                    >\r\n                      <td>{{ appearance }}</td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </td>\r\n            </template>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </section>\r\n    <div class=\"footer\">\r\n      <div class=\"btn-group-sm card-footer\">\r\n        <button\r\n          v-if=\"allVisibleIssuesShouldBeSelected\"\r\n          @click=\"allVisibleIssuesShouldBeSelected = false\"\r\n          class=\"btn btn-dark btn-sm\"\r\n        >\r\n          Unselect all visible issues\r\n        </button>\r\n        <button\r\n          v-else\r\n          @click=\"allVisibleIssuesShouldBeSelected = true\"\r\n          class=\"btn btn-dark btn-sm\"\r\n        >\r\n          Select all visible issues\r\n        </button>\r\n        <button\r\n          @click=\"changeStateOfSelectedIssues('read')\"\r\n          class=\"btn btn-dark btn-sm\"\r\n        >\r\n          Read selected issues\r\n        </button>\r\n        <button\r\n          @click=\"changeStateOfSelectedIssues('clear')\"\r\n          class=\"btn btn-dark btn-sm\"\r\n        >\r\n          Unread selected issues\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport IconLoading from \"@/components/icon/IconLoading\";\r\nimport IssuePreview from \"@/components/issue/IssuePreview\";\r\nimport axios from \"axios\";\r\nimport { mapActions, mapGetters } from \"vuex\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      readStatuses: [\"All\", \"Read\", \"Not read\"],\r\n      selectedReadStatus: \"Not read\",\r\n      totalIssues: 0,\r\n      visibleIssues: 0,\r\n      issueName: \"\",\r\n      issueVolume: \"\",\r\n      issuesData: undefined,\r\n      allVisibleIssuesShouldBeSelected: false\r\n    };\r\n  },\r\n  watch: {\r\n    isUserLoadInProgress(newValue) {\r\n      if (!newValue) {\r\n        this.loadIssuePage();\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(\"user\", [\"user\", \"isUserLoadInProgress\"]),\r\n    issues() {\r\n      if (!this.issuesData) {\r\n        return {};\r\n      }\r\n      const selectedReadStatus = this.selectedReadStatus;\r\n      return this.issuesData.filter(issue => {\r\n        issue.selected = false;\r\n        if (issue.isIgnored) {\r\n          return false;\r\n        }\r\n        if (\r\n          (selectedReadStatus === \"Read\" &&\r\n            (!issue.status || issue.status === \"clear\")) ||\r\n          (selectedReadStatus === \"Not read\" &&\r\n            issue.status &&\r\n            issue.status !== \"wait\" &&\r\n            issue.status !== \"clear\")\r\n        ) {\r\n          return false;\r\n        }\r\n        issue.selected = this.allVisibleIssuesShouldBeSelected;\r\n        return true;\r\n      });\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions(\"issue\", [\r\n      \"changeIgnoreStateOfIssue\",\r\n      \"changeFavouriteStateOfIssue\",\r\n      \"changeStatusOfIssues\"\r\n    ]),\r\n    changeStateOfSelectedIssues(state) {\r\n      const issueIds = this.issues\r\n        .filter(issue => issue.selected)\r\n        .map(issue => issue._id);\r\n      this.changeStatus(issueIds, state);\r\n    },\r\n    changeStatus(issuesIds, status) {\r\n      const issues = this.issues;\r\n      issues\r\n        .filter(issue => issuesIds.includes(issue._id))\r\n        .forEach(issue => (issue.status = \"wait\"));\r\n      this.changeStatusOfIssues({\r\n        issuesIds,\r\n        status\r\n      })\r\n        .then(response => {\r\n          for (const [key, value] of Object.entries(response.data)) {\r\n            this.issues.find(issue => issue._id === key).status = value.status;\r\n          }\r\n          this.allVisibleIssuesShouldBeSelected = false;\r\n        })\r\n        .catch(error => {\r\n          console.error(error);\r\n          this.$fire({\r\n            text: \"You are not authorized to do such action\",\r\n            type: \"error\"\r\n          });\r\n          this.loadIssuePage();\r\n        });\r\n    },\r\n    async loadIssuePage() {\r\n      this.issueName = this.$route.query.issueName;\r\n      this.issueVolume = this.$route.query.issueVolume;\r\n      axios\r\n        .get(\"getAllVolumeOfIssues\", {\r\n          params: {\r\n            issueName: this.issueName,\r\n            issueVolume: this.issueVolume\r\n          },\r\n          mcamAuthenticated: true\r\n        })\r\n        .then(response => {\r\n          this.issuesData = response.data;\r\n          this.totalIssues = response.data.length;\r\n        })\r\n        .catch(error => {\r\n          console.error(error);\r\n        });\r\n    },\r\n    showIssueDetails(issueId) {\r\n      this.$modal.show(\r\n        IssuePreview,\r\n        { issueId, markIssueAsFn: this.markIssueAs },\r\n        { height: \"auto\", scrollable: true, width: 1000 }\r\n      );\r\n    },\r\n    changeFavouriteState(idx, issueId, state) {\r\n      this.changeFavouriteStateOfIssue({ issueId, state })\r\n        .then(() => {\r\n          this.issues[idx].isFavourite = state;\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n        });\r\n    },\r\n    addIssueToIgnored(idx, issueId) {\r\n      this.changeIgnoreStateOfIssue({ issueId, state: true })\r\n        .then(() => {\r\n          this.totalIssues -= 1;\r\n          this.issues[idx].isIgnored = true;\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n        });\r\n    },\r\n    markIssueAs(issueId, statusName, state) {\r\n      const issue = this.issuesData.find(issue => issue._id === issueId);\r\n      if (statusName === \"favourite\") {\r\n        issue.isFavourite = state;\r\n      } else if (statusName === \"ignore\") {\r\n        this.totalIssues += state ? -1 : 1;\r\n        issue.isIgnored = state;\r\n      } else if (statusName !== \"character\") {\r\n        issue.status = statusName;\r\n      }\r\n    }\r\n  },\r\n  filters: {\r\n    timestampToDate(timestamp) {\r\n      const d = new Date(timestamp);\r\n      const year = d.getFullYear();\r\n      let month = \"\" + (d.getMonth() + 1);\r\n      if (month.length < 2) {\r\n        month = \"0\" + month;\r\n      }\r\n      return [year, month].join(\"-\");\r\n    }\r\n  },\r\n  beforeRouteUpdate(to, from, next) {\r\n    next();\r\n    this.loadIssuePage();\r\n  },\r\n  mounted() {\r\n    this.loadIssuePage();\r\n  },\r\n  components: {\r\n    IconLoading\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Issue.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Issue.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Issue.vue?vue&type=template&id=a1c84dba&\"\nimport script from \"./Issue.vue?vue&type=script&lang=js&\"\nexport * from \"./Issue.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}